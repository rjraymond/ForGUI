{"ast":null,"code":"import _classCallCheck from\"/home/ryan/Git/ForGUI/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/ryan/Git/ForGUI/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/ryan/Git/ForGUI/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/ryan/Git/ForGUI/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import ReactDOM from\"react-dom/client\";import{GetModelList}from\"./GetModelList.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Application=/*#__PURE__*/function(_React$Component){_inherits(Application,_React$Component);var _super=_createSuper(Application);function Application(props){var _this;_classCallCheck(this,Application);_this=_super.call(this,props);_this.Submit=function(event){event.preventDefault();/*\tMust be *first* to prevent automatic refresh\t*/var model=document.getElementById(\"model\").value;var sample=document.getElementById(\"sample\").files[0];var post=new XMLHttpRequest();var data=new FormData();if(sample==null){console.log(\"No sample uploaded!\");return;}_this.setState({prediction_in_progress:true});/* Start our spinner */data.append(\"sample\",sample);data.append(\"model\",model);post.open(\"POST\",\"http://localhost:8000/GetPrediction.php\",true);post.onload=function(e){console.log(post.responseText);_this.setState({prediction_in_progress:false,prediction:post.responseText});};console.log(\"Launching with sample: \"+sample.name+\" and model: \"+model);post.send(data);};_this.state={};_this.state.models=GetModelList();_this.state.model=_this.state.models[0];_this.state.prediction_in_progress=false;_this.state.prediction=-1;return _this;}_createClass(Application,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.Submit,style:{margin:\"auto\",width:\"max-content\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"UploadSample\",children:\" Upload Sample: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"sample\",name:\"sample\"})]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"model\",children:\" Select Model: \"}),/*#__PURE__*/_jsx(\"select\",{id:\"model\",children:this.state.models.sort().map(function(name,index){return/*#__PURE__*/_jsx(\"option\",{value:name,children:name},index);})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Analyze\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{margin:\"auto\",width:\"max-content\"},children:this.state.prediction_in_progress?/*#__PURE__*/_jsx(\"span\",{className:\"LoadingAnimation\"}):this.state.prediction>100?/*#__PURE__*/_jsx(_Fragment,{children:\" Server error. Sorry \"}):this.state.prediction<0?/*#__PURE__*/_jsx(_Fragment,{children:\" \"}):/*#__PURE__*/_jsxs(_Fragment,{children:[\" We estimate a \",this.state.prediction,\"% chance that this is a deepfake. \"]})})]});}}]);return Application;}(React.Component);","map":{"version":3,"names":["React","ReactDOM","GetModelList","Application","props","Submit","event","preventDefault","model","document","getElementById","value","sample","files","post","XMLHttpRequest","data","FormData","console","log","setState","prediction_in_progress","append","open","onload","e","responseText","prediction","name","send","state","models","margin","width","sort","map","index","Component"],"sources":["/home/ryan/Git/ForGUI/src/Application.js"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport { GetModelList } from \"./GetModelList.js\";\n\nexport class Application extends React.Component {\n  constructor (props)\n\t{\n\t\tsuper (props);\n\t\tthis.state = {}\n\t\tthis.state.models = GetModelList ();\n\t\tthis.state.model = this.state.models[0];\n\t\tthis.state.prediction_in_progress = false;\n\t\tthis.state.prediction = -1;\n\t}\n\t\n\tSubmit = (event) => \n\t{\n\t\tevent.preventDefault ();\t/*\tMust be *first* to prevent automatic refresh\t*/\n\t\t\n\t\tvar model = document.getElementById (\"model\").value;\n\t\tvar sample = document.getElementById (\"sample\").files[0];\n\t\tvar post = new XMLHttpRequest ();\n    var data = new FormData ();\n\n\t\tif (sample == null) {\n\t\t\tconsole.log (\"No sample uploaded!\");\n\t\t\treturn; }\n\t\t\n\t\tthis.setState ({prediction_in_progress: true});\t/* Start our spinner */\n\t\t\n\t\tdata.append (\"sample\", sample);\n\t\tdata.append (\"model\", model);\n\t\tpost.open (\"POST\", \"http://localhost:8000/GetPrediction.php\", true);\n\t\tpost.onload = (e) => {\n\t\t\tconsole.log (post.responseText);\n\t\t\tthis.setState ({prediction_in_progress: false,\n\t\t\t\t\t\t\t\t\t\t\tprediction: post.responseText});\n\t\t}\n\t\tconsole.log (\"Launching with sample: \" + sample.name + \" and model: \" + model);\n\t\tpost.send (data);\n\t}\n\trender () {\n    return (\n      <div>\n\t\t\t\t<form onSubmit = {this.Submit} style = {{margin: \"auto\", width: \"max-content\"}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label htmlFor = \"UploadSample\"> Upload Sample: </label>\n\t\t\t\t\t\t<input type = \"file\" id = \"sample\" name = \"sample\"/>\n\t\t\t\t\t</div><>\n\t\t\t\t\t<label htmlFor = \"model\"> Select Model: </label>\n      \t\t<select id = \"model\">\n      \t\t\t{this.state.models.sort ().map ((name, index) => (\n        \t\t\t<option value = {name} key = {index}>\n          \t{name}\n        \t\t</option>\n      \t\t\t))}\n      \t\t</select></>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input type = \"submit\" value = \"Analyze\" />\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<div style = {{margin: \"auto\", width: \"max-content\"}}>\n\t\t\t\t{\n\t\t\t\tthis.state.prediction_in_progress ?\n\t\t\t\t\t<span className = \"LoadingAnimation\"></span> :\n\t\t\t\t\t(this.state.prediction > 100 ?\n\t\t\t\t\t\t<> Server error. Sorry </> :\n\t\t\t\t\t\t(this.state.prediction < 0 ?\n\t\t\t\t\t\t<> </> :\n\t\t\t\t\t\t<> We estimate a {this.state.prediction}% chance that this is a deepfake. </>))\n\t\t\t\t}\n\t\t\t\t</div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}